{
  {%- if mod and mod.info %}
  "mod": {
    "name": "{{ mod.name | escape('json') }}",
    "version": "{{ mod.info.ModVersion | escape('json') }}",
    "authors": [{% for author in mod.info.Authors %}"{{ author | escape('json') }}"{% if not(loop.last) %},{% endif %}{% endfor %}],
    "credits": "{{ mod.info.Credits | escape('json') }}",
    "description": "{{ mod.info.Description | escape('json') }}",
    "mts_version": "{{ mod.info.MTS_Version | escape('json') }}",
    "sts_version": "{{ mod.info.STS_Version | escape('json') }}",
    "dependencies": [{% for x in mod.info.Dependencies %}"{{ x | escape('json') }}"{% if not(loop.last) %},{% endif %}{% endfor %}],
    "optional_dependencies": [{% for x in mod.info.OptionalDependencies %}"{{ x | escape('json') }}"{% if not(loop.last) %},{% endif %}{% endfor %}]
  },{% endif %}
  "cards": [{% for card in cardsAndUpgrades %}
    {
      "id": "{{ card.id | escape('json') }}",
      "name": "{{ card.name | escape('json') }}",
      "color": "{{ card.color | escape('json') }}",
      "rarity": "{{ card.rarity | escape('json') }}",
      "type": "{{ card.type | escape('json') }}",
      "cost": "{{ card.cost | escape('json') }}",
      "description": "{{ card.text | escape('json') }}",{% if (card.flavor is defined) and (card.flavor is not null) and (card.flavor is not empty) and (card.flavor != "") %}
      "flavor": "{{ card.flavor | escape('json') }}",{% endif %}
      "upgrades": {{ card.upgrades | escape('json') }}{% if listmod %},
      "mod": "{{ card.mod.modName | escape('json') }}"{% endif %}{% if (card.pack is defined) and (card.pack is not null) %},
      "pack": "{{ card.pack | escape('json') }}"{% endif %}
    }{% if not(loop.last) %},{% endif %}{% endfor %}
  ],
  "relics": [{% for relic in relics %}
    {
      "id": "{{ relic.id | escape('json') }}",
      "name": "{{ relic.name | escape('json') }}",
      "tier": "{{ relic.tier | escape('json') }}",
      "pool": "{{ relic.pool | escape('json') }}",
      "description": "{{ relic.descriptionPlain | escape('json') }}",
      "flavorText": "{{ relic.flavorTextPlain | escape('json') }}"{% if listmod %},
      "mod": "{{ relic.mod.modName | escape('json') }}"{% endif %}
    }{% if not(loop.last) %},{% endif %}{% endfor %}
  ],
  "blights": [{% for blight in blights %}
    {
      "id": "{{ blight.id | escape('json') }}",
      "name": "{{ blight.name | escape('json') }}",
      "description": "{{ blight.description | escape('json') }}"{% if listmod %},
      "mod": "{{ blight.mod.modName | escape('json') }}"{% endif %}
    }{% if not(loop.last) %},{% endif %}{% endfor %}
  ],
  "potions": [{% for potion in potions %}
    {
      "id": "{{ potion.id | escape('json') }}",
      "name": "{{ potion.name | escape('json') }}",
      "rarity": "{{ potion.rarity | escape('json') }}",{% if (potion.flavor is defined) and (potion.flavor is not null) and (potion.flavor is not empty) and (potion.flavor != "") %}
      "color": "{{ potion.pool | escape('json') }}",
      "flavor": "{{ potion.flavor | escape('json') }}",{% endif %}
      "description": "{{ potion.descriptionPlain | escape('json') }}"{% if listmod %},
      "mod": "{{ potion.mod.modName | escape('json') }}"{% endif %}
    }{% if not(loop.last) %},{% endif %}{% endfor %}
  ],
  "creatures": [{% for creature in creatures %}
    {
      "id": "{{ creature.id | escape('json') }}",
      "name": "{{ creature.name | escape('json') }}",
      "type": "{{ creature.type | escape('json') }}",
      "minHP": "{{ creature.minHP | escape('json') }}",
      "maxHP": "{{ creature.maxHP | escape('json') }}",
      "minHPA": "{{ creature.minHPAsc | escape('json') }}",
      "maxHPA": "{{ creature.maxHPAsc | escape('json') }}"{% if listmod %},
      "mod": "{{ creature.mod.modName | escape('json') }}"{% endif %}
    }{% if not(loop.last) %},{% endif %}{% endfor %}
  ],
  "keywords": [{% for keyword in keywords %}
    {
      "name": "{{ keyword.name | capitalize | escape('json') }}",
      "description": "{{ keyword.descriptionPlain | escape('json') }}"{% if listmod %},
      "names": [{% for x in keyword.names %}"{{ x | escape('json') }}"{% if not(loop.last) %},{% endif %}{% endfor %}],
      "mod": "{{ keyword.mod.modName | escape('json') }}"{% endif %}
    }{% if not(loop.last) %},{% endif %}{% endfor %}
  ],
  "packs": [{% for pack in packs %}
    {
      "id": "{{ pack.id | escape('json') }}",
      "name": "{{ pack.name | capitalize | escape('json') }}",
      "description": "{{ pack.description | escape('json') }}",
      "author": "{{ pack.author | escape('json') }}",
      "credits": "{{ pack.credits | escape('json') }}",
      "offense": "{{ pack.summary.offense | escape('json') }}",
      "defense": "{{ pack.summary.defense | escape('json') }}",
      "support": "{{ pack.summary.support | escape('json') }}",
      "frontload": "{{ pack.summary.frontload | escape('json') }}",
      "scaling": "{{ pack.summary.scaling | escape('json') }}",
      "cards": [{% for x in pack.cards %}"{{ x | escape('json') }}"{% if not(loop.last) %},{% endif %}{% endfor %}],
      "tags": [{% for x in pack.tags %}"{{ x | escape('json') }}"{% if not(loop.last) %},{% endif %}{% endfor %}]{% if listmod %},
      "mod": "{{ pack.mod.modName | escape('json') }}"{% endif %}
    }{% if not(loop.last) %},{% endif %}{% endfor %}
  ],
  "augments": [{% for augment in augments %}
    {
      "id": "{{ augment.id | escape('json') }}",
      "name": "{{ augment.name | escape('json') }}",
      "rarity": "{{ augment.rarity | escape('json') }}",
      "description": "{{ augment.descriptionPlain | escape('json') }}"{% if listmod %},
      "mod": "{{ augment.mod.modName | escape('json') }}"{% endif %}
    }{% if not(loop.last) %},{% endif %}{% endfor %}
  ],
  "adventurerboards": [{% for board in adventurerboards %}
    {
      "id": "{{ board.id | escape('json') }}",
      "name": "{{ board.name | escape('json') }}",
      "specialRule": "{{ board.specialRule | escape('json') }}",
      "effects": "{{ board.effects | escape('json') }}"{% if listmod %},
      "mod": "{{ board.mod.modName | escape('json') }}"{% endif %}
    }{% if not(loop.last) %},{% endif %}{% endfor %}
  ],
  "nodemodifiers": [{% for nodemodifier in nodemodifiers %}
    {
      "id": "{{ nodemodifier.id | escape('json') }}",
      "name": "{{ nodemodifier.name | escape('json') }}",
      "type": "{{ nodemodifier.type | escape('json') }}",
      "description": "{{ nodemodifier.descriptionPlain | escape('json') }}",
      "rooms": [{% for x in nodemodifier.roomClasses %}"{{ x | escape('json') }}"{% if not(loop.last) %},{% endif %}{% endfor %}]{% if listmod %},
      "mod": "{{ nodemodifier.mod.modName | escape('json') }}"{% endif %}
    }{% if not(loop.last) %},{% endif %}{% endfor %}
  ]
}